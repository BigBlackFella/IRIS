events
	AUTHORISE PUT
	DELETE DELETE
	GET GET
	POST POST
	PUT PUT
end

commands
	AuthoriseEntity
	CreateEntity
	DeleteEntity
	GETEntities
	GETEntity
	GETNavProperty
	GETServiceDocument
	UpdateEntity
end

initial resource ServiceDocument
	item ServiceDocument
	view { GETServiceDocument }
	path "/"
	GET -> Sectors
end

resource Sectors
	collection Sector
	view { GETEntities }
	path "/Sectors()"
	GET title="unauthorised input records" -> Sectors_IAuth
	POST -> Sectors_input
	GET *-> sector id=SectorCode
end

resource sector
	item Sector
	view { GETEntity }
	path "/Sectors('{id}')"
end

resource sector_IAuth
	item Sector
	view { GETEntity }
	path "/Sectors('{id}')/IAuth"
	PUT title="authorise" -> sector_IAuth_authorise id=SectorCode
	DELETE title="delete" -> sector_IAuth_delete id=SectorCode
end

resource sector_IAuth_authorise
	item Sector
	view { GETEntity }
	actions { AuthoriseEntity }
	relations { "edit" }
	path "/Sectors('{id}')/IAuth"
	GET --> sector_IAuth (OK(sector_IAuth))
	GET --> sector (OK(sector))
end

resource sector_IAuth_delete
	item Sector
	view { GETEntity }
	actions { DeleteEntity }
	relations { "edit" }
	path "/Sectors('{id}')/IAuth"
	GET --> sector (OK(sector))
end

resource Sectors_IAuth
	collection Sector
	view { GETEntities }
	path "/Sectors()/IAuth"
	GET *-> sector_IAuth id=SectorCode
	PUT title="authorise" *-> sector_IAuth_authorise id=SectorCode
	DELETE title="delete" *-> sector_IAuth_delete id=SectorCode
end

resource Sectors_input
	item Sector
	view { GETEntity }
	actions { CreateEntity }
	path "/Sectors()"
	GET --> sector_IAuth (OK(sector_IAuth))
	GET --> sector (OK(sector))
end
